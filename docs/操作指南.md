**[Conventional Commits](https://www.conventionalcommits.org/)** 标准。（卧槽我觉得真没必要但是作业是这样要求的真的是有病）

以下是该规范的详细指南：

---

### 1. 标准格式结构

一条规范的 Commit 信息包括三个部分：**Header（头部）**、**Body（主体）** 和 **Footer（尾部）**。

```text
<type>(<scope>): <subject>
// 空一行
<body>
// 空一行
<footer>
```

* **Header**: 必填。描述修改的类型、范围和简要说明。
* **Body**: 选填。详细描述修改的动机和内容。
* **Footer**: 选填。描述重大变更（Breaking Changes）或关闭的 Issue。

---

### 2. Header 详解 (重点)

Header 只有一行，通常限制在 **50 或 72 个字符**以内。格式如下：

`type(scope): subject`

#### ① Type（类别）

用于说明 commit 的类别，只允许使用以下标识：

| 关键字             | 含义                 | 说明                                           |
| :----------------- | :------------------- | :--------------------------------------------- |
| **feat**     | 新功能 (Feature)     | 增加一个新功能                                 |
| **fix**      | 修复 (Fix)           | 修复由代码引起的 Bug                           |
| **docs**     | 文档 (Documentation) | 仅修改文档，如 README, API 文档等              |
| **style**    | 格式 (Style)         | 不影响代码运行的变动 (空格, 分号, 格式化等)    |
| **refactor** | 重构 (Refactor)      | 既不是新增功能，也不是修改 Bug 的代码变动      |
| **perf**     | 性能 (Performance)   | 提高性能的代码更改                             |
| **test**     | 测试 (Test)          | 增加测试或修正现有的测试                       |
| **chore**    | 构建/工具 (Chore)    | 构建过程或辅助工具的变动 (如 webpack, npm)     |
| **revert**   | 回滚                 | 撤销某次提交                                   |
| **build**    | 构建                 | 影响构建系统或外部依赖的更改 (如 glup, npm)    |
| **ci**       | CI配置               | 对 CI 配置文件和脚本的更改 (如 Travis, Circle) |

#### ② Scope（范围）- *选填*

用于说明 commit 影响的范围，比如数据层、控制层、视图层等，视项目不同而不同。

* 例如：`feat(login): ...` 或 `fix(user-api): ...`
* 如果修改影响全局，可以使用 `*` 或留空。

#### ③ Subject（简述）

对 commit 目的的简短描述。

* **祈使句**：使用 "change" 而不是 "changed" 或 "changes"（中文通常用动词开头，如“新增”、“修改”、“删除”）。
* **结尾不要加句号**。
* 首字母通常小写（英文规范中），中文则无此限制。

---

### 3. Body 详解 (选填)

Body 对本次 commit 做更详细的描述，可以分成多行。
**编写原则：**

* 说明代码变动的**动机**（Why）。
* 说明与修改前的**对比**（What）。
* **不要**描述具体的代码实现细节（How），代码本身能体现。

---

### 4. Footer 详解 (选填)

通常用于两种情况：

1. **不兼容变动 (Breaking Change)**：
   如果当前代码与上一个版本不兼容，则 Footer 以 `BREAKING CHANGE` 开头，后面是对变动的描述、以及变动理由和迁移方法。
2. **关闭 Issue**：
   如果当前 commit 针对某个 issue，可以在这里关闭它。
   例如：`Closes #123`, `Fixes #456`.

---

### 5. 举例说明

#### ✅ 简单示例 (最常用)

```text
feat(user): 添加用户登录时的验证码校验
```

```text
fix: 修复某些安卓机型下的页面白屏问题
```

#### ✅ 完整示例 (包含 Body 和 Footer)

```text
feat(auth): 重构登录鉴权逻辑

目前使用 Session 验证，为了更好地支持移动端和分布式部署，
将验证逻辑迁移至 JWT (JSON Web Token)。

BREAKING CHANGE: 登录接口的返回值由 Cookie 变更为 Token 字符串。
Closes #234
```

---

### 6. 进阶：Gitmoji (图标化)

为了让提交记录更有趣且易读，开源社区也流行在 commit message 前加 Emoji。

| Emoji | 代码                   | 含义                        |
| :---- | :--------------------- | :-------------------------- |
| ✨    | `:sparkles:`         | 引入新功能 (feat)           |
| 🐛    | `:bug:`              | 修复 Bug (fix)              |
| 📝    | `:memo:`             | 撰写文档 (docs)             |
| 🎨    | `:art:`              | 改进代码结构/格式 (style)   |
| ♻️  | `:recycle:`          | 代码重构 (refactor)         |
| ⚡️  | `:zap:`              | 提升性能 (perf)             |
| ✅    | `:white_check_mark:` | 增加测试 (test)             |
| 🔧    | `:wrench:`           | 修改配置文件 (chore/config) |
| 🚀    | `:rocket:`           | 部署功能                    |

**示例：**

```text
✨ feat(home): 增加首页轮播图组件
🐛 fix(api): 修复获取用户信息时的空指针异常
```

---

### 7. 如何强制规范？(工具推荐)

靠自觉很难保证全团队统一，通常使用工具来约束。

1. **Commitizen**: 一个命令行工具，撰写 commit 时它会像填表一样引导你输入 type, scope 等信息。
2. **Husky + Commitlint**: **(推荐)**
   * **Husky**: Git Hook 工具，在 git commit 动作触发前拦截。
   * **Commitlint**: 检查 commit message 是否符合规范，如果不符合，提交会失败。

**配置好后的效果：**
如果你提交了 `git commit -m "update code"`，Git 会报错并拒绝提交，提示你必须使用 `type(scope): subject` 的格式。

### 总结

对于个人或小团队，建议至少严格遵守 **Header** 的格式：
**`Type: Subject`**
例如：`fix: 修复登录按钮点击无效的问题`。

这能极大地提升 Git 历史的可读性。
